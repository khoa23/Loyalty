2026-01-08 20:10:38.306 +07:00 [INF] Starting LoyaltyWebApp application
2026-01-08 20:10:38.604 +07:00 [INF] LoyaltyWebApp is starting up
2026-01-08 20:10:38.693 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:10:38.769 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:10:44.523 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:10:46.596 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:10:46.599 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002635265,"username":"admin_loan","user_role":"Admin","customer_id":null}}
2026-01-08 20:10:46.642 +07:00 [INF] Login successful for user: admin_loan
2026-01-08 20:10:46.729 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:10:46.729 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:10:46.746 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:10:58.477 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:10:58.477 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002831873,"username":"khachhang_b","user_role":"Customer","customer_id":1134039809066205185}}
2026-01-08 20:10:58.477 +07:00 [INF] Login successful for user: khachhang_b
2026-01-08 20:10:58.524 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:10:58.524 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:10:58.524 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:11:00.939 +07:00 [INF] GetRedemptionHistory API response status: "OK"
2026-01-08 20:11:00.939 +07:00 [INF] GetRedemptionHistory API response content: {"message":"L·∫•y l·ªãch s·ª≠ ƒë·ªïi qu√† th√†nh c√¥ng","data":[{"transaction_Id":"1138750919425884163","reward_Id":"1137158563853271041","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Mobi 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-05T05:06:41.454657","transaction_Status":"Completed"},{"transaction_Id":"1134039809204420609","reward_Id":"1134039809136132097","reward_Name":"B√¨nh Gi·ªØ Nhi·ªát Cao C·∫•p","description":"B√¨nh gi·ªØ nhi·ªát dung t√≠ch 500ml","quantity_Redeemed":1,"points_Spent":2500,"redemption_Date":"2025-12-19T20:44:44.738579","transaction_Status":"Completed"}],"page":1,"pageSize":100,"totalCount":2,"hasMore":false}
2026-01-08 20:11:00.944 +07:00 [INF] GetRedemptionHistory successful for customer 1134039809066205185, page 1, pageSize 100, count 2
2026-01-08 20:11:01.681 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:11:01.681 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:11:01.681 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:11:11.792 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:11:11.792 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002635265,"username":"admin_loan","user_role":"Admin","customer_id":null}}
2026-01-08 20:11:11.792 +07:00 [INF] Login successful for user: admin_loan
2026-01-08 20:11:11.807 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:11:11.807 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:11:11.807 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:11:16.162 +07:00 [INF] üì° Calling GetCustomers endpoint from: http://localhost/loyaltyWebApp/Customer/GetCustomers
2026-01-08 20:11:16.176 +07:00 [INF] üì° API Key added to request header
2026-01-08 20:11:16.177 +07:00 [INF] üì° Calling API to fetch customer list from: http://localhost/LoyaltyAPI/api/customer/list
2026-01-08 20:11:16.195 +07:00 [INF] ‚úì Successfully fetched 5 customers from API
2026-01-08 20:11:16.337 +07:00 [INF] ‚úì Successfully fetched 5 customers
2026-01-08 20:11:20.736 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:11:20.736 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:11:20.737 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:16:02.129 +07:00 [INF] LoyaltyWebApp is shutting down
2026-01-08 20:16:13.721 +07:00 [INF] Starting LoyaltyWebApp application
2026-01-08 20:16:13.999 +07:00 [INF] LoyaltyWebApp is starting up
2026-01-08 20:16:14.087 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:16:14.163 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:16:20.565 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:16:22.673 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:16:22.676 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002635265,"username":"admin_loan","user_role":"Admin","customer_id":null}}
2026-01-08 20:16:22.704 +07:00 [INF] Login successful for user: admin_loan
2026-01-08 20:16:22.778 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:16:22.779 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T05:41:07.39876"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:16:22.800 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:16:32.025 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:16:32.026 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T13:16:31.92839"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:16:32.026 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:16:58.627 +07:00 [INF] üì° Calling GetCustomers endpoint from: http://localhost/loyaltyWebApp/Customer/GetCustomers
2026-01-08 20:16:58.634 +07:00 [INF] üì° API Key added to request header
2026-01-08 20:16:58.634 +07:00 [INF] üì° Calling API to fetch customer list from: http://localhost/LoyaltyAPI/api/customer/list
2026-01-08 20:16:58.659 +07:00 [INF] ‚úì Successfully fetched 5 customers from API
2026-01-08 20:16:58.675 +07:00 [INF] ‚úì Successfully fetched 5 customers
2026-01-08 20:17:13.656 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:17:13.656 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002831873,"username":"khachhang_b","user_role":"Customer","customer_id":1134039809066205185}}
2026-01-08 20:17:13.656 +07:00 [INF] Login successful for user: khachhang_b
2026-01-08 20:17:13.705 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:17:13.706 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T13:16:31.92839"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:17:13.706 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:17:22.567 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:17:22.567 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T13:16:31.92839"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:17:22.567 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:18:00.945 +07:00 [INF] GetRedemptionHistory API response status: "OK"
2026-01-08 20:18:00.945 +07:00 [INF] GetRedemptionHistory API response content: {"message":"L·∫•y l·ªãch s·ª≠ ƒë·ªïi qu√† th√†nh c√¥ng","data":[{"transaction_Id":"1138750919425884163","reward_Id":"1137158563853271041","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Mobi 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-05T05:06:41.454657","transaction_Status":"Completed"},{"transaction_Id":"1134039809204420609","reward_Id":"1134039809136132097","reward_Name":"B√¨nh Gi·ªØ Nhi·ªát Cao C·∫•p","description":"B√¨nh gi·ªØ nhi·ªát dung t√≠ch 500ml","quantity_Redeemed":1,"points_Spent":2500,"redemption_Date":"2025-12-19T20:44:44.738579","transaction_Status":"Completed"}],"page":1,"pageSize":100,"totalCount":2,"hasMore":false}
2026-01-08 20:18:00.947 +07:00 [INF] GetRedemptionHistory successful for customer 1134039809066205185, page 1, pageSize 100, count 2
2026-01-08 20:18:04.585 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:18:04.585 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":1000,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T13:16:31.92839"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:18:04.585 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:18:09.699 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:18:09.700 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":null,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:18:09.700 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:18:11.869 +07:00 [INF] GetRedemptionHistory API response status: "OK"
2026-01-08 20:18:11.869 +07:00 [INF] GetRedemptionHistory API response content: {"message":"L·∫•y l·ªãch s·ª≠ ƒë·ªïi qu√† th√†nh c√¥ng","data":[{"transaction_Id":"1139696892846964737","reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","quantity_Redeemed":1,"points_Spent":50,"redemption_Date":"2026-01-08T13:18:09.632435","transaction_Status":"Completed"},{"transaction_Id":"1138750919425884163","reward_Id":"1137158563853271041","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Mobi 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-05T05:06:41.454657","transaction_Status":"Completed"},{"transaction_Id":"1134039809204420609","reward_Id":"1134039809136132097","reward_Name":"B√¨nh Gi·ªØ Nhi·ªát Cao C·∫•p","description":"B√¨nh gi·ªØ nhi·ªát dung t√≠ch 500ml","quantity_Redeemed":1,"points_Spent":2500,"redemption_Date":"2025-12-19T20:44:44.738579","transaction_Status":"Completed"}],"page":1,"pageSize":100,"totalCount":3,"hasMore":false}
2026-01-08 20:18:11.871 +07:00 [INF] GetRedemptionHistory successful for customer 1134039809066205185, page 1, pageSize 100, count 3
2026-01-08 20:18:15.811 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:18:15.811 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":null,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:18:15.811 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:18:27.600 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:18:27.600 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002635265,"username":"admin_loan","user_role":"Admin","customer_id":null}}
2026-01-08 20:18:27.600 +07:00 [INF] Login successful for user: admin_loan
2026-01-08 20:18:27.617 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:18:27.617 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":true,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:18:27.617 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:19:57.676 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:19:57.676 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":true,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:19:57.680 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:20:21.484 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:20:21.484 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":true,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:20:21.484 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:20:24.212 +07:00 [INF] üì° Calling GetCustomers endpoint from: http://localhost/loyaltyWebApp/Customer/GetCustomers
2026-01-08 20:20:24.214 +07:00 [INF] üì° API Key added to request header
2026-01-08 20:20:24.214 +07:00 [INF] üì° Calling API to fetch customer list from: http://localhost/LoyaltyAPI/api/customer/list
2026-01-08 20:20:24.226 +07:00 [INF] ‚úì Successfully fetched 5 customers from API
2026-01-08 20:20:24.228 +07:00 [INF] ‚úì Successfully fetched 5 customers
2026-01-08 20:20:24.817 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:20:24.817 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":true,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:20:24.817 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:20:36.582 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:20:36.582 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002831873,"username":"khachhang_b","user_role":"Customer","customer_id":1134039809066205185}}
2026-01-08 20:20:36.583 +07:00 [INF] Login successful for user: khachhang_b
2026-01-08 20:20:36.610 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:20:36.610 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":50,"stock_Quantity":119,"image_Url":"/Uploads/rewards/reward_1136872304970760193_20260108054009.png","is_Active":null,"updated_At":"2026-01-08T13:18:09.632435"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:20:36.610 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:20:39.591 +07:00 [INF] GetRedemptionHistory API response status: "OK"
2026-01-08 20:20:39.591 +07:00 [INF] GetRedemptionHistory API response content: {"message":"L·∫•y l·ªãch s·ª≠ ƒë·ªïi qu√† th√†nh c√¥ng","data":[{"transaction_Id":"1139696892846964737","reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","quantity_Redeemed":1,"points_Spent":50,"redemption_Date":"2026-01-08T13:18:09.632435","transaction_Status":"Completed"},{"transaction_Id":"1138750919425884163","reward_Id":"1137158563853271041","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Mobi 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-05T05:06:41.454657","transaction_Status":"Completed"},{"transaction_Id":"1134039809204420609","reward_Id":"1134039809136132097","reward_Name":"B√¨nh Gi·ªØ Nhi·ªát Cao C·∫•p","description":"B√¨nh gi·ªØ nhi·ªát dung t√≠ch 500ml","quantity_Redeemed":1,"points_Spent":2500,"redemption_Date":"2025-12-19T20:44:44.738579","transaction_Status":"Completed"}],"page":1,"pageSize":100,"totalCount":3,"hasMore":false}
2026-01-08 20:20:39.593 +07:00 [INF] GetRedemptionHistory successful for customer 1134039809066205185, page 1, pageSize 100, count 3
2026-01-08 20:25:38.781 +07:00 [INF] LoyaltyWebApp is shutting down
2026-01-08 20:25:56.253 +07:00 [INF] Starting LoyaltyWebApp application
2026-01-08 20:25:56.552 +07:00 [INF] LoyaltyWebApp is starting up
2026-01-08 20:25:56.641 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:26:04.417 +07:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {17c22caa-9bbb-441b-9864-0a68f812a11b} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2026-01-08 20:26:06.439 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:26:06.449 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002635265,"username":"admin_loan","user_role":"Admin","customer_id":null}}
2026-01-08 20:26:06.499 +07:00 [INF] Login successful for user: admin_loan
2026-01-08 20:26:06.623 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:26:06.623 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":999,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T13:25:00.996652"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:26:06.645 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:26:11.179 +07:00 [INF] üì° Calling GetCustomers endpoint from: http://localhost/loyaltyWebApp/Customer/GetCustomers
2026-01-08 20:26:11.189 +07:00 [INF] üì° API Key added to request header
2026-01-08 20:26:11.189 +07:00 [INF] üì° Calling API to fetch customer list from: http://localhost/LoyaltyAPI/api/customer/list
2026-01-08 20:26:11.209 +07:00 [INF] ‚úì Successfully fetched 5 customers from API
2026-01-08 20:26:11.228 +07:00 [INF] ‚úì Successfully fetched 5 customers
2026-01-08 20:26:22.101 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:26:22.101 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":99,"stock_Quantity":999,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T13:25:00.996652"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:26:22.101 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:26:27.846 +07:00 [INF] GetRewardsWithPagination API response status: "OK"
2026-01-08 20:26:27.846 +07:00 [INF] GetRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":999,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":true,"updated_At":"2026-01-08T13:26:27.807243"}],"page":1,"pageSize":1,"totalCount":11,"totalPages":11,"hasNext":true,"hasPrevious":false}
2026-01-08 20:26:27.847 +07:00 [INF] GetRewardsWithPagination successful, page: 1, total: 11
2026-01-08 20:26:39.845 +07:00 [INF] Login API response status: "OK"
2026-01-08 20:26:39.845 +07:00 [INF] Login API response content: {"message":"ƒêƒÉng nh·∫≠p th√†nh c√¥ng","data":{"user_id":1134039809002831873,"username":"khachhang_b","user_role":"Customer","customer_id":1134039809066205185}}
2026-01-08 20:26:39.845 +07:00 [INF] Login successful for user: khachhang_b
2026-01-08 20:26:39.891 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:26:39.891 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","points_Cost":100,"stock_Quantity":999,"image_Url":"/Uploads/rewards/reward_1136606618552565761_20260108054107.jpg","is_Active":null,"updated_At":"2026-01-08T13:26:27.807243"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:26:39.891 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:26:44.854 +07:00 [INF] GetCustomerRewardsWithPagination API response status: "OK"
2026-01-08 20:26:44.854 +07:00 [INF] GetCustomerRewardsWithPagination API response content: {"message":"L·∫•y danh s√°ch qu√† th√†nh c√¥ng","data":[{"reward_Id":"1137433323122720769","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Vina 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","points_Cost":100,"stock_Quantity":9,"image_Url":"/Uploads/rewards/reward_1137433323122720769_20251231132503.jpg","is_Active":null,"updated_At":"2026-01-08T13:26:44.811758"}],"page":1,"pageSize":1,"totalCount":8,"totalPages":8,"hasNext":true,"hasPrevious":false}
2026-01-08 20:26:44.854 +07:00 [INF] GetCustomerRewardsWithPagination successful, page: 1, total: 8
2026-01-08 20:26:46.085 +07:00 [INF] GetRedemptionHistory API response status: "OK"
2026-01-08 20:26:46.085 +07:00 [INF] GetRedemptionHistory API response content: {"message":"L·∫•y l·ªãch s·ª≠ ƒë·ªïi qu√† th√†nh c√¥ng","data":[{"transaction_Id":"1139698580934197249","reward_Id":"1137433323122720769","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Vina 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-08T13:26:44.811758","transaction_Status":"Completed"},{"transaction_Id":"1139698240762183681","reward_Id":"1136606618552565761","reward_Name":"Voucher Co.opmart 100K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","quantity_Redeemed":1,"points_Spent":99,"redemption_Date":"2026-01-08T13:25:00.996652","transaction_Status":"Completed"},{"transaction_Id":"1139696892846964737","reward_Id":"1136872304970760193","reward_Name":"Voucher FPT SHOP 50K","description":"Voucher s·ª≠ d·ª•ng t·∫°i si√™u th·ªã","quantity_Redeemed":1,"points_Spent":50,"redemption_Date":"2026-01-08T13:18:09.632435","transaction_Status":"Completed"},{"transaction_Id":"1138750919425884163","reward_Id":"1137158563853271041","reward_Name":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i Mobi 100K","description":"Th·∫ª n·∫°p ƒëi·ªán tho·∫°i","quantity_Redeemed":1,"points_Spent":100,"redemption_Date":"2026-01-05T05:06:41.454657","transaction_Status":"Completed"},{"transaction_Id":"1134039809204420609","reward_Id":"1134039809136132097","reward_Name":"B√¨nh Gi·ªØ Nhi·ªát Cao C·∫•p","description":"B√¨nh gi·ªØ nhi·ªát dung t√≠ch 500ml","quantity_Redeemed":1,"points_Spent":2500,"redemption_Date":"2025-12-19T20:44:44.738579","transaction_Status":"Completed"}],"page":1,"pageSize":100,"totalCount":5,"hasMore":false}
2026-01-08 20:26:46.087 +07:00 [INF] GetRedemptionHistory successful for customer 1134039809066205185, page 1, pageSize 100, count 5
2026-01-08 20:28:49.006 +07:00 [INF] LoyaltyWebApp is shutting down
